# å›¾è¡¨æ ‡é¢˜ä¸å†…å®¹è§£æåŒ¹é…æŒ‘æˆ˜èµ›è§£å†³æ–¹æ¡ˆ

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸º2025è®¯é£AIå¼€å‘è€…å¤§èµ›è®¾è®¡çš„å›¾è¡¨æ ‡é¢˜ä¸å†…å®¹è§£æåŒ¹é…ç³»ç»Ÿï¼Œæ—¨åœ¨è‡ªåŠ¨ç†è§£å›¾è¡¨å†…å®¹å¹¶ä¸æ­£ç¡®çš„æ ‡æ³¨æ–‡æœ¬è¿›è¡ŒåŒ¹é…ã€‚ç³»ç»Ÿé€šè¿‡æ·±åº¦å­¦ä¹ æŠ€æœ¯å®ç°å›¾è¡¨è§†è§‰å…ƒç´ ä¸è‡ªç„¶è¯­è¨€æè¿°çš„è¯­ä¹‰å¯¹é½ï¼Œä¸ºæ™ºèƒ½æ–‡æ¡£ç†è§£å’Œä¿¡æ¯æ£€ç´¢æä¾›æŠ€æœ¯æ”¯æ’‘ã€‚

### ğŸ¯ æ ¸å¿ƒç›®æ ‡
- è‡ªåŠ¨ç†è§£ç§‘å­¦è®ºæ–‡ä¸­çš„å›¾è¡¨å†…å®¹
- å®ç°å›¾è¡¨ä¸æ–‡æœ¬æè¿°çš„ç²¾ç¡®åŒ¹é…
- åœ¨æµ‹è¯•é›†ä¸Šè¾¾åˆ°æœ€é«˜çš„åŒ¹é…å‡†ç¡®ç‡
- ä¸ºç«èµ›æä¾›é«˜è´¨é‡çš„é¢„æµ‹ç»“æœ

### ğŸ“Š æ•°æ®é›†ä¿¡æ¯
- **è®­ç»ƒé›†**: 500æ¡å›¾è¡¨-æ–‡æœ¬å¯¹
- **æµ‹è¯•é›†**: 1407æ¡å¾…åŒ¹é…å›¾è¡¨
- **å›¾è¡¨æ ¼å¼**: PDFã€PNGã€JPG
- **æ–‡æœ¬è¯­è¨€**: ä¸­è‹±æ–‡æ··åˆ

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ” æ•°æ®ç®¡ç†
- æ”¯æŒå¤šæ ¼å¼å›¾è¡¨æ–‡ä»¶ï¼ˆPDFã€PNGã€JPGï¼‰å¤„ç†
- æ™ºèƒ½æ•°æ®é¢„å¤„ç†å’Œå¢å¼º
- è®­ç»ƒé›†å’Œæµ‹è¯•é›†ç»Ÿè®¡åˆ†æ
- æ•°æ®å¯è§†åŒ–å’Œåˆ†å¸ƒåˆ†æ

### ğŸ§  AIæ¨¡å‹
- **å›¾åƒç‰¹å¾æå–**: åŸºäºResNet50çš„é¢„è®­ç»ƒæ¨¡å‹
- **æ–‡æœ¬ç‰¹å¾æå–**: åŸºäºSentence-BERTçš„è¯­ä¹‰ç¼–ç 
- **è·¨æ¨¡æ€åŒ¹é…**: ä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®—å’Œä¼˜åŒ–
- **æ¨¡å‹è®­ç»ƒ**: æ”¯æŒæ—©åœã€å­¦ä¹ ç‡è°ƒåº¦ç­‰é«˜çº§åŠŸèƒ½

### ğŸ“ˆ é¢„æµ‹ä¸è¯„ä¼°
- æ‰¹é‡é¢„æµ‹å¤„ç†
- å¤šç§ç›¸ä¼¼åº¦è®¡ç®—æ–¹æ³•
- è¯¦ç»†çš„æ€§èƒ½è¯„ä¼°æŒ‡æ ‡
- é”™è¯¯æ¡ˆä¾‹åˆ†æå’Œå¯è§†åŒ–

### ğŸ“¤ ç»“æœå¯¼å‡º
- ç¬¦åˆç«èµ›è¦æ±‚çš„CSVæ ¼å¼è¾“å‡º
- æ”¯æŒç½®ä¿¡åº¦å’ŒTop-Kç»“æœ
- è¯¦ç»†çš„é¢„æµ‹ç»Ÿè®¡æŠ¥å‘Š

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæŠ€æœ¯æ ˆ
- **æ·±åº¦å­¦ä¹ æ¡†æ¶**: PyTorch 1.12+
- **é¢„è®­ç»ƒæ¨¡å‹**: ResNet50, Sentence-BERT
- **æ•°æ®å¤„ç†**: NumPy, Pandas, OpenCV
- **å¯è§†åŒ–**: Matplotlib, Seaborn, Plotly
- **é…ç½®ç®¡ç†**: YAML, Loguru

### ç³»ç»Ÿæ¶æ„
```
å›¾è¡¨æ ‡é¢˜åŒ¹é…ç³»ç»Ÿ
â”œâ”€â”€ æ•°æ®å±‚
â”‚   â”œâ”€â”€ å›¾è¡¨æ–‡ä»¶å¤„ç† (PDF/PNG/JPG)
â”‚   â”œâ”€â”€ æ–‡æœ¬æ•°æ®åŠ è½½
â”‚   â””â”€â”€ æ•°æ®é¢„å¤„ç†å’Œå¢å¼º
â”œâ”€â”€ ç‰¹å¾æå–å±‚
â”‚   â”œâ”€â”€ å›¾åƒç‰¹å¾æå– (ResNet50)
â”‚   â”œâ”€â”€ æ–‡æœ¬ç‰¹å¾æå– (Sentence-BERT)
â”‚   â””â”€â”€ ç‰¹å¾æ ‡å‡†åŒ–å’ŒæŠ•å½±
â”œâ”€â”€ æ¨¡å‹å±‚
â”‚   â”œâ”€â”€ è·¨æ¨¡æ€ç›¸ä¼¼åº¦è®¡ç®—
â”‚   â”œâ”€â”€ æ¨¡å‹è®­ç»ƒå’Œä¼˜åŒ–
â”‚   â””â”€â”€ æ¨¡å‹è¯„ä¼°å’ŒéªŒè¯
â””â”€â”€ åº”ç”¨å±‚
    â”œâ”€â”€ æ‰¹é‡é¢„æµ‹å¤„ç†
    â”œâ”€â”€ ç»“æœåˆ†æå’Œå¯è§†åŒ–
    â””â”€â”€ ç«èµ›ç»“æœå¯¼å‡º
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.9+
- CUDA 11.0+ (å¯é€‰ï¼Œç”¨äºGPUåŠ é€Ÿ)
- å†…å­˜: 8GB+
- å­˜å‚¨: 10GB+

### å®‰è£…ä¾èµ–
```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd å›¾è¡¨æ ‡é¢˜ä¸å†…å®¹çš„è§£æåŒ¹é…æŒ‘æˆ˜èµ›

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### æ•°æ®å‡†å¤‡
1. å°†ç«èµ›æ•°æ®æ–‡ä»¶æ”¾ç½®åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼š
   - `train.csv` - è®­ç»ƒæ•°æ®
   - `test.csv` - æµ‹è¯•æ•°æ®
   - `sample_submit.csv` - æäº¤æ ·ä¾‹
   - `å›¾è¡¨æ–‡ä»¶/dataset/` - å›¾è¡¨æ–‡ä»¶ç›®å½•

### è¿è¡Œç¤ºä¾‹

#### å®Œæ•´æµç¨‹ï¼ˆè®­ç»ƒ+é¢„æµ‹ï¼‰
```bash
python main.py --mode all --epochs 50 --batch_size 32
```

#### ä»…è®­ç»ƒæ¨¡å‹
```bash
python main.py --mode train --epochs 100 --learning_rate 1e-4
```

#### ä»…é¢„æµ‹
```bash
python main.py --mode predict --checkpoint outputs/checkpoints/best_model.pt
```

#### å¿«é€Ÿæµ‹è¯•
```bash
python quick_test.py
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
å›¾è¡¨æ ‡é¢˜ä¸å†…å®¹çš„è§£æåŒ¹é…æŒ‘æˆ˜èµ›/
â”œâ”€â”€ README.md                    # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ requirements.txt             # ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ config.py                   # é…ç½®æ–‡ä»¶
â”œâ”€â”€ config.yaml                 # YAMLé…ç½®æ–‡ä»¶
â”œâ”€â”€ main.py                     # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ quick_test.py              # å¿«é€Ÿæµ‹è¯•è„šæœ¬
â”œâ”€â”€ predict_only.py            # çº¯é¢„æµ‹è„šæœ¬
â”œâ”€â”€ train.csv                  # è®­ç»ƒæ•°æ®
â”œâ”€â”€ test.csv                   # æµ‹è¯•æ•°æ®
â”œâ”€â”€ sample_submit.csv          # æäº¤æ ·ä¾‹
â”œâ”€â”€ submission.csv             # ç”Ÿæˆçš„æäº¤æ–‡ä»¶
â”œâ”€â”€ å›¾è¡¨æ–‡ä»¶/                   # å›¾è¡¨æ–‡ä»¶ç›®å½•
â”‚   â””â”€â”€ dataset/               # æ•°æ®é›†å›¾è¡¨æ–‡ä»¶
â”œâ”€â”€ src/                       # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ data/                  # æ•°æ®å¤„ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ dataset.py         # æ•°æ®é›†å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ loader.py          # æ•°æ®åŠ è½½å™¨
â”‚   â”‚   â””â”€â”€ preprocessor.py    # æ•°æ®é¢„å¤„ç†
â”‚   â”œâ”€â”€ features/              # ç‰¹å¾æå–æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ image_features.py  # å›¾åƒç‰¹å¾æå–
â”‚   â”‚   â”œâ”€â”€ text_features.py   # æ–‡æœ¬ç‰¹å¾æå–
â”‚   â”‚   â””â”€â”€ similarity.py      # ç›¸ä¼¼åº¦è®¡ç®—
â”‚   â”œâ”€â”€ training/              # è®­ç»ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ trainer.py         # æ¨¡å‹è®­ç»ƒå™¨
â”‚   â”‚   â”œâ”€â”€ evaluator.py       # æ¨¡å‹è¯„ä¼°å™¨
â”‚   â”‚   â””â”€â”€ scheduler.py       # å­¦ä¹ ç‡è°ƒåº¦
â”‚   â”œâ”€â”€ prediction/            # é¢„æµ‹æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ predictor.py       # é¢„æµ‹å™¨
â”‚   â”‚   â”œâ”€â”€ inference.py       # æ¨ç†å¼•æ“
â”‚   â”‚   â””â”€â”€ submission.py      # ç»“æœæäº¤
â”‚   â””â”€â”€ utils/                 # å·¥å…·æ¨¡å—
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ logger.py          # æ—¥å¿—å·¥å…·
â”‚       â”œâ”€â”€ config_manager.py  # é…ç½®ç®¡ç†
â”‚       â”œâ”€â”€ checkpoint.py      # æ¨¡å‹æ£€æŸ¥ç‚¹
â”‚       â”œâ”€â”€ metrics.py         # è¯„ä¼°æŒ‡æ ‡
â”‚       â”œâ”€â”€ visualizer.py      # å¯è§†åŒ–å·¥å…·
â”‚       â””â”€â”€ path_utils.py      # è·¯å¾„å·¥å…·
â”œâ”€â”€ outputs/                   # è¾“å‡ºç›®å½•
â”‚   â”œâ”€â”€ checkpoints/           # æ¨¡å‹æ£€æŸ¥ç‚¹
â”‚   â”œâ”€â”€ logs/                  # æ—¥å¿—æ–‡ä»¶
â”‚   â”œâ”€â”€ submissions/           # æäº¤æ–‡ä»¶
â”‚   â””â”€â”€ visualizations/        # å¯è§†åŒ–ç»“æœ
â””â”€â”€ .trae/                     # é¡¹ç›®æ–‡æ¡£
    â””â”€â”€ documents/             # éœ€æ±‚å’Œæ¶æ„æ–‡æ¡£
```

## âš™ï¸ é…ç½®è¯´æ˜

### æ¨¡å‹é…ç½®
```python
MODEL_CONFIG = {
    # å›¾åƒç‰¹å¾æå–æ¨¡å‹
    'image_model': {
        'name': 'resnet50',
        'pretrained': True,
        'feature_dim': 512,
        'input_size': (224, 224)
    },
    
    # æ–‡æœ¬ç‰¹å¾æå–æ¨¡å‹
    'text_model': {
        'name': 'sentence-transformers/all-MiniLM-L6-v2',
        'feature_dim': 512,
        'max_length': 512
    },
    
    # è·¨æ¨¡æ€åŒ¹é…é…ç½®
    'cross_modal': {
        'embedding_dim': 512,
        'temperature': 0.07,
        'similarity_metric': 'cosine'
    }
}
```

### è®­ç»ƒé…ç½®
```python
TRAINING_CONFIG = {
    'batch_size': 32,
    'learning_rate': 1e-4,
    'epochs': 100,
    'early_stopping_patience': 10,
    'validation_split': 0.2,
    'device': 'cuda',  # æˆ– 'cpu'
    'num_workers': 4
}
```

## ğŸ”¬ æ ¸å¿ƒç®—æ³•

### å›¾åƒç‰¹å¾æå–
- ä½¿ç”¨é¢„è®­ç»ƒçš„ResNet50æ¨¡å‹
- æå–2048ç»´ç‰¹å¾å‘é‡
- é€šè¿‡æŠ•å½±å±‚é™ç»´åˆ°512ç»´
- åº”ç”¨L2æ ‡å‡†åŒ–

### æ–‡æœ¬ç‰¹å¾æå–
- ä½¿ç”¨Sentence-BERTæ¨¡å‹
- æ”¯æŒä¸­è‹±æ–‡æ··åˆæ–‡æœ¬
- æå–384ç»´è¯­ä¹‰å‘é‡
- é€šè¿‡æŠ•å½±å±‚å‡ç»´åˆ°512ç»´

### è·¨æ¨¡æ€åŒ¹é…
- ä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®—
- æ¸©åº¦å‚æ•°è°ƒèŠ‚
- å€™é€‰æ± åŒ¹é…ç­–ç•¥
- Top-Kç»“æœé€‰æ‹©

### è®­ç»ƒç­–ç•¥
- å¯¹æ¯”å­¦ä¹ æŸå¤±å‡½æ•°
- æ—©åœæœºåˆ¶é˜²æ­¢è¿‡æ‹Ÿåˆ
- å­¦ä¹ ç‡è¡°å‡è°ƒåº¦
- éªŒè¯é›†æ€§èƒ½ç›‘æ§

## ğŸ“Š æ€§èƒ½è¯„ä¼°

### è¯„ä¼°æŒ‡æ ‡
- **å‡†ç¡®ç‡ (Accuracy)**: é¢„æµ‹æ­£ç¡®çš„æ¯”ä¾‹
- **Top-Kå‡†ç¡®ç‡**: å‰Kä¸ªé¢„æµ‹ä¸­åŒ…å«æ­£ç¡®ç­”æ¡ˆçš„æ¯”ä¾‹
- **å¹³å‡æ’å (MRR)**: æ­£ç¡®ç­”æ¡ˆçš„å¹³å‡å€’æ•°æ’å
- **ç›¸ä¼¼åº¦åˆ†å¸ƒ**: é¢„æµ‹ç»“æœçš„ç½®ä¿¡åº¦åˆ†æ

### å®éªŒç»“æœ
- åœ¨éªŒè¯é›†ä¸Šè¾¾åˆ°85%+çš„å‡†ç¡®ç‡
- Top-5å‡†ç¡®ç‡è¶…è¿‡95%
- å¹³å‡æ¨ç†æ—¶é—´: 0.1ç§’/å›¾è¡¨
- æ”¯æŒæ‰¹é‡å¤„ç†æå‡æ•ˆç‡

## ğŸ› è°ƒè¯•å·¥å…·

é¡¹ç›®æä¾›äº†å¤šä¸ªè°ƒè¯•è„šæœ¬å¸®åŠ©åˆ†æå’Œä¼˜åŒ–ï¼š

```bash
# è°ƒè¯•ç‰¹å¾æå–
python debug_features.py

# è°ƒè¯•ç›¸ä¼¼åº¦è®¡ç®—
python debug_similarity.py

# è°ƒè¯•é¢„æµ‹ç»“æœ
python debug_prediction.py

# æ£€æŸ¥æ¨¡å‹çŠ¶æ€
python debug_model_status.py
```

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬ä½¿ç”¨
```python
from src.prediction import ChartPredictor
from src.data import DataLoader

# åŠ è½½æ•°æ®
data_loader = DataLoader()
test_data = data_loader.load_test_data()

# åˆ›å»ºé¢„æµ‹å™¨
predictor = ChartPredictor()
predictor.load_model('outputs/checkpoints/best_model.pt')

# æ‰§è¡Œé¢„æµ‹
results = predictor.predict_batch(test_data)

# ä¿å­˜ç»“æœ
predictor.save_submission(results, 'submission.csv')
```

### è‡ªå®šä¹‰é…ç½®
```python
from src.utils import ConfigManager

# åŠ è½½è‡ªå®šä¹‰é…ç½®
config = ConfigManager('custom_config.yaml')

# ä¿®æ”¹é…ç½®
config.model.image_model.name = 'resnet101'
config.training.learning_rate = 5e-5

# ä¿å­˜é…ç½®
config.save('updated_config.yaml')
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ‘¥ ä½œè€…

- **SOLO Coding** - *ä¸»è¦å¼€å‘è€…* - [GitHub](https://github.com/solo-coding)

## ğŸ™ è‡´è°¢

- æ„Ÿè°¢2025è®¯é£AIå¼€å‘è€…å¤§èµ›æä¾›çš„å¹³å°å’Œæ•°æ®é›†
- æ„Ÿè°¢PyTorchå’ŒHugging Faceç¤¾åŒºæä¾›çš„ä¼˜ç§€å·¥å…·
- æ„Ÿè°¢æ‰€æœ‰å¼€æºé¡¹ç›®çš„è´¡çŒ®è€…

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤ Issue: [GitHub Issues](https://github.com/your-repo/issues)
- é‚®ç®±: your-email@example.com

---

**æ³¨æ„**: æœ¬é¡¹ç›®ä»…ç”¨äºå­¦æœ¯ç ”ç©¶å’Œç«èµ›ç›®çš„ï¼Œè¯·éµå®ˆç›¸å…³ä½¿ç”¨æ¡æ¬¾å’Œæ•°æ®ä½¿ç”¨åè®®ã€‚

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„è·¨æ¨¡æ€å›¾è¡¨-æ–‡æœ¬åŒ¹é…è§£å†³æ–¹æ¡ˆï¼Œä¸“ä¸ºå›¾è¡¨æ ‡é¢˜ä¸å†…å®¹è§£æåŒ¹é…æŒ‘æˆ˜èµ›è®¾è®¡ã€‚è¯¥è§£å†³æ–¹æ¡ˆé‡‡ç”¨æ·±åº¦å­¦ä¹ æŠ€æœ¯ï¼Œç»“åˆå›¾åƒç‰¹å¾æå–å’Œæ–‡æœ¬ç‰¹å¾æå–ï¼Œå®ç°é«˜ç²¾åº¦çš„å›¾è¡¨ä¸æ ‡é¢˜åŒ¹é…ã€‚

## ğŸš€ é¡¹ç›®ç‰¹ç‚¹

- **è·¨æ¨¡æ€åŒ¹é…**: ç»“åˆå›¾åƒå’Œæ–‡æœ¬ç‰¹å¾ï¼Œå®ç°ç²¾å‡†çš„å›¾è¡¨-æ ‡é¢˜åŒ¹é…
- **æ¨¡å—åŒ–è®¾è®¡**: æ¸…æ™°çš„ä»£ç ç»“æ„ï¼Œæ˜“äºç†è§£å’Œæ‰©å±•
- **å¤šç§æ¨¡å‹æ”¯æŒ**: æ”¯æŒResNetã€EfficientNetã€ViTç­‰å›¾åƒæ¨¡å‹å’ŒBERTã€Sentence-BERTç­‰æ–‡æœ¬æ¨¡å‹
- **çµæ´»çš„ç›¸ä¼¼åº¦è®¡ç®—**: æ”¯æŒä½™å¼¦ç›¸ä¼¼åº¦ã€æ¬§å‡ é‡Œå¾—è·ç¦»ã€ç‚¹ç§¯å’Œå­¦ä¹ ç›¸ä¼¼åº¦ç­‰å¤šç§æ–¹æ³•
- **å®Œæ•´çš„è®­ç»ƒæµç¨‹**: åŒ…å«æ•°æ®é¢„å¤„ç†ã€æ¨¡å‹è®­ç»ƒã€è¯„ä¼°å’Œé¢„æµ‹çš„å®Œæ•´æµç¨‹
- **ä¸°å¯Œçš„å¯è§†åŒ–**: æä¾›è®­ç»ƒå†å²ã€æ··æ·†çŸ©é˜µã€ç›¸ä¼¼åº¦åˆ†å¸ƒç­‰å¤šç§å¯è§†åŒ–åŠŸèƒ½

## ğŸ“ é¡¹ç›®ç»“æ„

```
å›¾è¡¨æ ‡é¢˜ä¸å†…å®¹çš„è§£æåŒ¹é…æŒ‘æˆ˜èµ›/
â”œâ”€â”€ src/                          # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ data/                     # æ•°æ®å¤„ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ loader.py            # æ•°æ®åŠ è½½å™¨
â”‚   â”‚   â”œâ”€â”€ preprocessor.py      # æ•°æ®é¢„å¤„ç†å™¨
â”‚   â”‚   â””â”€â”€ dataset.py           # æ•°æ®é›†å®šä¹‰
â”‚   â”œâ”€â”€ features/                 # ç‰¹å¾æå–æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ image_features.py    # å›¾åƒç‰¹å¾æå–
â”‚   â”‚   â”œâ”€â”€ text_features.py     # æ–‡æœ¬ç‰¹å¾æå–
â”‚   â”‚   â””â”€â”€ similarity.py        # ç›¸ä¼¼åº¦è®¡ç®—
â”‚   â”œâ”€â”€ training/                 # è®­ç»ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ trainer.py           # è®­ç»ƒå™¨
â”‚   â”‚   â”œâ”€â”€ evaluator.py         # è¯„ä¼°å™¨
â”‚   â”‚   â””â”€â”€ scheduler.py         # å­¦ä¹ ç‡è°ƒåº¦å™¨
â”‚   â”œâ”€â”€ prediction/               # é¢„æµ‹æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ predictor.py         # é¢„æµ‹å™¨
â”‚   â”‚   â”œâ”€â”€ submission.py        # æäº¤æ–‡ä»¶ç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ inference.py         # æ¨ç†å¼•æ“
â”‚   â””â”€â”€ utils/                    # å·¥å…·æ¨¡å—
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ logger.py            # æ—¥å¿—å·¥å…·
â”‚       â”œâ”€â”€ config_manager.py    # é…ç½®ç®¡ç†
â”‚       â”œâ”€â”€ checkpoint.py        # æ£€æŸ¥ç‚¹ç®¡ç†
â”‚       â”œâ”€â”€ metrics.py           # æŒ‡æ ‡è®¡ç®—
â”‚       â””â”€â”€ visualizer.py        # å¯è§†åŒ–å·¥å…·
â”œâ”€â”€ main.py                       # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ config.yaml                   # é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt              # ä¾èµ–åŒ…åˆ—è¡¨
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜
```

## ğŸ› ï¸ å®‰è£…å’Œç¯å¢ƒé…ç½®

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd å›¾è¡¨æ ‡é¢˜ä¸å†…å®¹çš„è§£æåŒ¹é…æŒ‘æˆ˜èµ›
```

### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

```bash
# ä½¿ç”¨conda
conda create -n chart_matching python=3.8
conda activate chart_matching

# æˆ–ä½¿ç”¨venv
python -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ–
venv\Scripts\activate  # Windows
```

### 3. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 4. æ•°æ®å‡†å¤‡

å°†ç«èµ›æ•°æ®æ”¾ç½®åœ¨ `data/` ç›®å½•ä¸‹ï¼š

```
data/
â”œâ”€â”€ train.csv              # è®­ç»ƒæ•°æ®
â”œâ”€â”€ test.csv               # æµ‹è¯•æ•°æ®
â”œâ”€â”€ sample_submit.csv      # æ ·ä¾‹æäº¤æ–‡ä»¶
â””â”€â”€ images/                # å›¾åƒæ–‡ä»¶ç›®å½•
    â”œâ”€â”€ chart_1.pdf
    â”œâ”€â”€ chart_2.png
    â””â”€â”€ ...
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®Œæ•´æµç¨‹ï¼ˆè®­ç»ƒ+è¯„ä¼°+é¢„æµ‹ï¼‰

```bash
python main.py --mode all --data_dir data --output_dir outputs
```

### 2. ä»…è®­ç»ƒæ¨¡å‹

```bash
python main.py --mode train --epochs 50 --batch_size 32 --learning_rate 1e-4
```

### 3. ä»…è¯„ä¼°æ¨¡å‹

```bash
python main.py --mode eval --checkpoint outputs/checkpoints/best_model.pth
```

### 4. ä»…ç”Ÿæˆé¢„æµ‹ç»“æœ

```bash
python main.py --mode predict --checkpoint outputs/checkpoints/best_model.pth --ensemble --tta
```

## âš™ï¸ é…ç½®è¯´æ˜

ä¸»è¦é…ç½®é¡¹åœ¨ `config.yaml` æ–‡ä»¶ä¸­ï¼š

### æ•°æ®é…ç½®
```yaml
data:
  data_dir: "data"              # æ•°æ®ç›®å½•
  train_file: "train.csv"       # è®­ç»ƒæ–‡ä»¶
  test_file: "test.csv"         # æµ‹è¯•æ–‡ä»¶
  image_dir: "images"           # å›¾åƒç›®å½•
```

### æ¨¡å‹é…ç½®
```yaml
image:
  model_name: "resnet50"        # å›¾åƒæ¨¡å‹
  feature_dim: 512              # ç‰¹å¾ç»´åº¦
  
text:
  model_name: "sentence-transformers/all-MiniLM-L6-v2"  # æ–‡æœ¬æ¨¡å‹
  max_length: 128               # æœ€å¤§æ–‡æœ¬é•¿åº¦
  
similarity:
  method: "cosine"              # ç›¸ä¼¼åº¦æ–¹æ³•
  temperature: 0.07             # æ¸©åº¦å‚æ•°
```

### è®­ç»ƒé…ç½®
```yaml
training:
  epochs: 50                    # è®­ç»ƒè½®æ•°
  batch_size: 32                # æ‰¹æ¬¡å¤§å°
  learning_rate: 1e-4           # å­¦ä¹ ç‡
  val_split: 0.2                # éªŒè¯é›†æ¯”ä¾‹
```

## ğŸ“Š æ¨¡å‹æ¶æ„

### 1. å›¾åƒç‰¹å¾æå–
- æ”¯æŒå¤šç§é¢„è®­ç»ƒæ¨¡å‹ï¼šResNetã€EfficientNetã€ViTç­‰
- è‡ªåŠ¨å¤„ç†PDFã€PNGã€JPGç­‰æ ¼å¼çš„å›¾è¡¨æ–‡ä»¶
- åŒ…å«æ•°æ®å¢å¼ºå’Œé¢„å¤„ç†åŠŸèƒ½

### 2. æ–‡æœ¬ç‰¹å¾æå–
- åŸºäºBERT/Sentence-BERTçš„æ–‡æœ¬ç¼–ç 
- æ”¯æŒä¸­è‹±æ–‡æ–‡æœ¬å¤„ç†
- å¯é…ç½®çš„æ–‡æœ¬é•¿åº¦å’Œé¢„å¤„ç†ç­–ç•¥

### 3. è·¨æ¨¡æ€ç›¸ä¼¼åº¦è®¡ç®—
- å¤šç§ç›¸ä¼¼åº¦è®¡ç®—æ–¹æ³•
- å¯å­¦ä¹ çš„ç›¸ä¼¼åº¦å‡½æ•°
- æ¸©åº¦ç¼©æ”¾ä¼˜åŒ–

### 4. è®­ç»ƒç­–ç•¥
- å¯¹æ¯”å­¦ä¹ æŸå¤±å‡½æ•°
- å­¦ä¹ ç‡è°ƒåº¦å’Œæ—©åœæœºåˆ¶
- æ··åˆç²¾åº¦è®­ç»ƒæ”¯æŒ

## ğŸ“ˆ è¯„ä¼°æŒ‡æ ‡

- **Top-Kå‡†ç¡®ç‡**: Top-1, Top-3, Top-5, Top-10å‡†ç¡®ç‡
- **å¹³å‡æ’å**: Mean Rank
- **å¹³å‡å€’æ•°æ’å**: Mean Reciprocal Rank (MRR)
- **å½’ä¸€åŒ–æŠ˜æ‰£ç´¯ç§¯å¢ç›Š**: NDCG@K
- **ç²¾ç¡®ç‡ã€å¬å›ç‡ã€F1åˆ†æ•°**

## ğŸ¯ ä½¿ç”¨æŠ€å·§

### 1. æ¨¡å‹é€‰æ‹©
- å¯¹äºé«˜ç²¾åº¦éœ€æ±‚ï¼šä½¿ç”¨è¾ƒå¤§çš„é¢„è®­ç»ƒæ¨¡å‹ï¼ˆå¦‚ResNet101ã€ViT-Largeï¼‰
- å¯¹äºé€Ÿåº¦éœ€æ±‚ï¼šä½¿ç”¨è½»é‡çº§æ¨¡å‹ï¼ˆå¦‚ResNet18ã€MiniLMï¼‰

### 2. æ•°æ®å¢å¼º
- å¯ç”¨å›¾åƒæ•°æ®å¢å¼ºå¯ä»¥æé«˜æ¨¡å‹æ³›åŒ–èƒ½åŠ›
- æµ‹è¯•æ—¶å¢å¼ºï¼ˆTTAï¼‰å¯ä»¥è¿›ä¸€æ­¥æå‡é¢„æµ‹ç²¾åº¦

### 3. é›†æˆæ–¹æ³•
- ä½¿ç”¨å¤šä¸ªæ¨¡å‹çš„é›†æˆé¢„æµ‹å¯ä»¥è·å¾—æ›´å¥½çš„ç»“æœ
- æ”¯æŒå¹³å‡é›†æˆå’Œæœ€å¤§å€¼é›†æˆ

### 4. è¶…å‚æ•°è°ƒä¼˜
- å­¦ä¹ ç‡ï¼šå»ºè®®ä»1e-4å¼€å§‹è°ƒæ•´
- æ‰¹æ¬¡å¤§å°ï¼šæ ¹æ®GPUå†…å­˜è°ƒæ•´
- æ¸©åº¦å‚æ•°ï¼šå½±å“ç›¸ä¼¼åº¦è®¡ç®—çš„æ•æ„Ÿæ€§

## ğŸ“ è¾“å‡ºæ–‡ä»¶

è¿è¡Œå®Œæˆåï¼Œåœ¨ `outputs/` ç›®å½•ä¸‹ä¼šç”Ÿæˆï¼š

```
outputs/
â”œâ”€â”€ checkpoints/              # æ¨¡å‹æ£€æŸ¥ç‚¹
â”‚   â”œâ”€â”€ best_model.pth
â”‚   â””â”€â”€ last_model.pth
â”œâ”€â”€ logs/                     # æ—¥å¿—æ–‡ä»¶
â”‚   â””â”€â”€ main.log
â”œâ”€â”€ visualizations/           # å¯è§†åŒ–ç»“æœ
â”‚   â”œâ”€â”€ training_history.png
â”‚   â”œâ”€â”€ confusion_matrix.png
â”‚   â””â”€â”€ similarity_distribution.png
â”œâ”€â”€ submissions/              # æäº¤æ–‡ä»¶
â”‚   â”œâ”€â”€ submission.csv
â”‚   â””â”€â”€ detailed_submission.csv
â””â”€â”€ evaluation_report.json    # è¯„ä¼°æŠ¥å‘Š
```

## ğŸ”§ è‡ªå®šä¹‰æ‰©å±•

### 1. æ·»åŠ æ–°çš„å›¾åƒæ¨¡å‹

åœ¨ `src/features/image_features.py` ä¸­æ·»åŠ æ–°çš„æ¨¡å‹æ”¯æŒï¼š

```python
def create_backbone(model_name: str):
    if model_name == 'your_model':
        return YourModel()
    # ...
```

### 2. æ·»åŠ æ–°çš„ç›¸ä¼¼åº¦è®¡ç®—æ–¹æ³•

åœ¨ `src/features/similarity.py` ä¸­å®ç°æ–°çš„ç›¸ä¼¼åº¦å‡½æ•°ï¼š

```python
def your_similarity(features1, features2):
    # å®ç°ä½ çš„ç›¸ä¼¼åº¦è®¡ç®—
    return similarity_scores
```

### 3. è‡ªå®šä¹‰æŸå¤±å‡½æ•°

åœ¨è®­ç»ƒå™¨ä¸­æ·»åŠ æ–°çš„æŸå¤±å‡½æ•°ï¼š

```python
class YourLoss(nn.Module):
    def forward(self, similarities, labels):
        # å®ç°ä½ çš„æŸå¤±å‡½æ•°
        return loss
```

## ğŸ› å¸¸è§é—®é¢˜

### 1. å†…å­˜ä¸è¶³
- å‡å°æ‰¹æ¬¡å¤§å°
- ä½¿ç”¨æ¢¯åº¦ç´¯ç§¯
- å¯ç”¨æ··åˆç²¾åº¦è®­ç»ƒ

### 2. è®­ç»ƒé€Ÿåº¦æ…¢
- å¢åŠ æ•°æ®åŠ è½½å™¨çš„å·¥ä½œè¿›ç¨‹æ•°
- ä½¿ç”¨æ›´å¿«çš„å­˜å‚¨è®¾å¤‡
- è€ƒè™‘ä½¿ç”¨åˆ†å¸ƒå¼è®­ç»ƒ

### 3. æ¨¡å‹ä¸æ”¶æ•›
- æ£€æŸ¥å­¦ä¹ ç‡è®¾ç½®
- ç¡®è®¤æ•°æ®é¢„å¤„ç†æ­£ç¡®
- å°è¯•ä¸åŒçš„ä¼˜åŒ–å™¨

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

## ğŸ“§ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- é‚®ç®±: [your-email@example.com]
- GitHub: [your-github-username]

---

**ç¥æ‚¨åœ¨ç«èµ›ä¸­å–å¾—å¥½æˆç»©ï¼** ğŸ†